@startuml
actor User
participant Browser
participant "Flask App" as Flask
database DB
participant "Email Service" as Email

User -> Browser : Click "Resend Activation"
Browser -> Flask : GET /resend_activation?email=...

Flask -> Flask : Validate email format

alt Invalid email format
    Flask -> Browser : "Invalid email format"
end

Flask -> DB : SELECT user by email
DB --> Flask : user record (or none)

alt User not found
    Flask -> Browser : "Account not found"
end

alt Account already activated
    Flask -> Browser : "Account already activated"
end

Flask -> Flask : Generate new token + expiry

Flask -> Email : Send new activation email

Flask --> Browser : "New activation email sent"
@enduml